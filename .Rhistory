ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey()
# Total cost
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Total Cost') %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey(end = 0.7)
# Total cost
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Total Cost') %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey(end = 0.8)
# Total cost
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Total Cost') %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey()
ggsave(paste('figures/', 'total_cost', '.png', sep = ''))
# Relative to Reoptimization
reopt <- sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost',
Strategy == 'Reoptimization') %>%
group_by(Customers) %>%
summarise(avg_reopt = mean(Value))
sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost') %>%
merge(reopt) %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)/mean(avg_reopt)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
expand_limits(y=0) +
scale_color_grey()
# Total cost
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Total Cost') %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey()
ggsave('figures/total_cost.png')
sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost') %>%
merge(reopt) %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)/mean(avg_reopt)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
expand_limits(y=0) +
scale_color_grey()
ggsave('figures/rel_cost.png')
sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost') %>%
merge(reopt) %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)/mean(avg_reopt)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost (Rel. to Reopt.)') +
expand_limits(y=0) +
scale_color_grey()
sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost') %>%
merge(reopt) %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)/mean(avg_reopt)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost (Rel. to Reoptimization)') +
expand_limits(y=0) +
scale_color_grey()
ggsave('figures/rel_cost.png')
# Circular and Radial Cost
sims %>%
filter(Scenario == 'Baseline',
Metric %in% c('Circular Cost', 'Radial Cost')) %>%
group_by(Customers, Strategy, Metric) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Metric, fill = Metric) +
geom_area() +
labs(x = 'Number of Customers', y = 'Cost') +
facet_wrap(Strategy ~.) +
scale_fill_grey(start = 0.4)
# Circular and Radial Cost
sims %>%
filter(Scenario == 'Baseline',
Metric %in% c('Circular Cost', 'Radial Cost')) %>%
group_by(Customers, Strategy, Metric) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Metric, fill = Metric) +
geom_area() +
labs(x = 'Number of Customers', y = 'Cost') +
facet_wrap(Strategy ~.) +
scale_fill_grey(start = 0.4)
ggsave('figures/cost_breakdown.png')
# Number of trips
# KL: Include condidence bars?
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Trip Count') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Customers, y = Value, fill = Strategy) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(x = 'Number of Customers', y = 'Trip Count') +
scale_fill_grey()
>
# Number of trips
# KL: Include condidence bars?
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Trip Count') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Customers, y = Value, fill = Strategy) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(x = 'Number of Customers', y = 'Trip Count') +
scale_fill_grey(start = 0.4)
# Number of trips
# KL: Include condidence bars?
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Trip Count') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Customers, y = Value, fill = Strategy) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(x = 'Number of Customers', y = 'Trip Count') +
scale_fill_grey(start = 0.3)
# Total cost
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Total Cost') %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost') +
scale_color_grey(start = 0.3)
ggsave('figures/total_cost.png')
sims %>%
filter(Scenario == "Baseline",
Metric == 'Total Cost') %>%
merge(reopt) %>%
group_by(Customers, Strategy) %>%
summarise(Value = mean(Value)/mean(avg_reopt)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Strategy, color = Strategy,
linetype = Strategy, shape = Strategy) +
geom_line(size = 1) + geom_point(size = 2) +
labs(x = 'Number of Customers', y = 'Cost (Rel. to Reoptimization)') +
expand_limits(y=0) +
scale_color_grey(start = 0.3)
ggsave('figures/rel_cost.png')
# Circular and Radial Cost
sims %>%
filter(Scenario == 'Baseline',
Metric %in% c('Circular Cost', 'Radial Cost')) %>%
group_by(Customers, Strategy, Metric) %>%
summarise(Value = mean(Value)) %>%
ggplot() +
aes(x = Customers, y =  Value,
group = Metric, fill = Metric) +
geom_area() +
labs(x = 'Number of Customers', y = 'Cost') +
facet_wrap(Strategy ~.) +
scale_fill_grey(start = 0.4)
ggsave('figures/cost_breakdown.png')
# Number of trips
# KL: Include condidence bars?
sims %>%
filter(Scenario == 'Baseline',
Metric == 'Trip Count') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Customers, y = Value, fill = Strategy) +
geom_bar(stat = 'identity', position = 'dodge') +
labs(x = 'Number of Customers', y = 'Trip Count') +
scale_fill_grey(start = 0.3)
ggsave('figures/trips.png')
sims %>%
filter(Customers %in% c(10,80),
Metric == 'Total Cost',
Scenario == 'Baseline') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(10,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(10,40,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
#Customers %in% c(10,40,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50, alpha = 0.5) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
#Customers %in% c(10,40,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50, alpha = 0.7) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
#Customers %in% c(10,40,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50, alpha = 0.8) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50, alpha = 0.8) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100, alpha = 0.8) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100, alpha = 0.9) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey()
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.3)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.3, end = 0.9)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.3)
# Distribution of individual runs' costs by strategy
sims %>%
filter(Scenario == 'Baseline',
Customers %in% c(5,20,80),
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Strategy~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.3, end = 0.9)
ggsave('figures/hist_total.png')
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 50) +
facet_grid(Scenario~Strategy) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 100) +
facet_grid(Scenario~Strategy) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,40,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Scenario~Strategy) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Scenario~Strategy) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Strategy~Scenario) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
#Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Scenario~Strategy) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Scenario~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
paste('figures/hist_compare_',strat,'.png', sep = '')
# Comparison of scenarios' distributions within individual strategies
strategies = unique(sims$Strategy)
for (strat in strategies){
sims %>%
filter(!Scenario %in% c('Medium Overlap', 'Long Route'),
Customers %in% c(10,80),
Strategy == strat,
Metric == 'Total Cost') %>%
mutate(Customers = factor(Customers)) %>%
ggplot() +
aes(x = Value, fill=Customers) +
geom_histogram(color='black', bins = 75) +
facet_grid(Scenario~.) +
labs(x = 'Total Cost', y = 'Count') +
scale_fill_grey(start = 0.4)
ggsave(paste('figures/hist_compare_',strat,'.png', sep = ''))
}
